<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Transducers</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.project #system #author label{vertical-align:top;}article.project #system #author ul{display:inline-block;margin:0;padding:0;list-style:none;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}</style> </head> <body> <article class="project"> <header>   <h1>transducers</h1>   <span class="version">1.0.1</span>    <p class="description">Ergonomic, efficient data processing.</p>   <nav class="pages"> <a href="index.html">transducers</a>  <a href="transducers/tests/index.html">transducers/tests</a>  <a href="transducers-jzon/index.html">transducers jzon</a> </nav>  </header> <section id="documentation"> </section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">1.0.1</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external" href="http://ndantam.github.io/sycamore">sycamore</a></li></ul> </div>   <div class="row" id="author"> <label for="author">Author:</label> <a href="mailto:colin@fosskers.ca">Colin Woodbury</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="file:///home/colin/code/common-lisp/cl-transducers/LICENSE">LGPL-3.0-only</a> </div>     </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE TRANSDUCERS"> <header> <h3> <a href="#PACKAGE%20TRANSDUCERS">TRANSDUCERS</a> </h3> <ul class="nicknames"></ul>  </header> <div class="docstring"><pre>Ergonomic, efficient data processing.</pre></div> <ul class="definitions"> <li> <article class="definition condition" id="CONDITION TRANSDUCERS:EMPTY-TRANSDUCTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20TRANSDUCERS%3AEMPTY-TRANSDUCTION">EMPTY-TRANSDUCTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/conditions.lisp#10:0">Source</a>  </header> <div class="docstring"><pre>A transduction was empty when it was expected not to be.</pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION TRANSDUCERS:IMBALANCED-PLIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20TRANSDUCERS%3AIMBALANCED-PLIST">IMBALANCED-PLIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/conditions.lisp#3:0">Source</a>  </header> <div class="docstring"><pre>A given `plist' source had an uneven number of keys.</pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE TRANSDUCERS:PLIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20TRANSDUCERS%3APLIST">PLIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/sources.lisp#10:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:ALLP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AALLP">ALLP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#106:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Yield non-NIL if all elements of the transduction satisfy PRED.
Short-circuits with NIL if any element fails the test.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:ANYP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AANYP">ANYP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#83:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Yield non-NIL if any element in the transduction satisfies PRED.
Short-circuits the transduction as soon as the condition is met.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:AVERAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AAVERAGE">AVERAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#57:1">Source</a>  </header> <div class="docstring"><pre>Reducer: Calculate the average value of all numeric elements in a transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:BRANCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ABRANCH">BRANCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>    <li class="argument">TA</li>    <li class="argument">TB</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#537:0">Source</a>  </header> <div class="docstring"><pre>Transducer: If a PRED yields non-NIL on a value, proceed with transducer chain
TA. Otherwise, follow chain TB. This produces a kind of diamond pattern of data
flow within the transduction:

     /4a-5a-6a\
1-2-3          7-8-9
     \4b-5b---/

Assuming that TA here is some composition of three transducer steps, and TB is a
composition of two. Naturally, if you have other steps beyond the fork (Step 7
above), you should make sure that they can handle the return values of both
sides!

(transduce (comp (map #'1+)
                 (branch #'evenp
                         (map (comp #'write-to-string #'1+))
                         (map (const &quot;Odd!&quot;)))
                 (map #'length))
           #'cons (range 1 6))
=&gt; (1 4 1 4 1)
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:COMP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ACOMP">COMP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FUNCTION</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FUNCTIONS</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/utils.lisp#9:0">Source</a>  </header> <div class="docstring"><pre>Function composition.

(funcall (comp #'1+ #'length) &quot;foo&quot;) == (1+ (length &quot;foo&quot;))</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:CONCATENATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ACONCATENATE">CONCATENATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#170:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Concatenate all the sublists in the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:CONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ACONS">CONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#4:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Collect all results as a list.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:CONST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ACONST">CONST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ITEM</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/utils.lisp#21:1">Source</a>  </header> <div class="docstring"><pre>Return a function that ignores its argument and returns ITEM instead.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:COUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ACOUNT">COUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#50:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Count the number of elements that made it through the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:DEDUP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ADEDUP">DEDUP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#363:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Remove adjacent duplicates from the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:DROP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ADROP">DROP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#97:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Drop the first N elements of the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:DROP-WHILE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ADROP-WHILE">DROP-WHILE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#113:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Drop elements from the front of the transduction that satisfy PRED.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:ENUMERATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AENUMERATE">ENUMERATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#287:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Index every value passed through the transduction into a cons pair.
Starts at 0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FILTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFILTER">FILTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#65:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Only keep elements from the transduction that satisfy PRED.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FILTER-MAP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFILTER-MAP">FILTER-MAP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">F</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#78:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Apply a function F to the elements of the transduction, but only
keep results that are non-nil.

(transduce (filter-map #'cl:first) #'cons '(() (2 3) () (5 6) () (8 9)))
=&gt; (2 5 8)
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FIND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFIND">FIND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#224:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Find the first element in the transduction that satisfies a given PRED.
Yields `nil' if no such element were found.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FIRST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFIRST">FIRST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#118:1">Source</a>  </header> <div class="docstring"><pre>Reducer: Yield the first value of the transduction. As soon as this first value
is yielded, the entire transduction stops.

# Conditions

- `empty-transduction': when no values made it through the transduction.
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FLATTEN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFLATTEN">FLATTEN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#184:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Entirely flatten all lists in the transduction, regardless of
nesting.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FOLD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFOLD">FOLD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">F</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#171:0">Source</a>  </header> <div class="docstring"><pre>Reducer: The fundamental reducer. `fold' creates an ad-hoc reducer based on
a given 2-argument function. An optional SEED value can also be given as the
initial accumulator value, which also becomes the return value in case there
were no input left in the transduction.

Functions like `+' and `*' are automatically valid reducers, because they yield
sane values even when given 0 or 1 arguments. Other functions like `max' cannot
be used as-is as reducers since they can't be called without arguments. For
functions like this, `fold' is appropriate.

# Conditions

- `empty-transduction': if no SEED is given and the transduction is empty.
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FOR-EACH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFOR-EACH">FOR-EACH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VARGS</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#235:1">Source</a>  </header> <div class="docstring"><pre>Reducer: Run through every item in a transduction for their side effects.
Throws away all results and yields t.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:FROM-CSV"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AFROM-CSV">FROM-CSV</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#451:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Interpret the data stream as CSV data.

The first item found is assumed to be the header list, and it will be used to
construct useable hashtables for all subsequent items.

Note: This function makes no attempt to convert types from the
original parsed strings. If you want numbers, you will need to
further parse them yourself.

This function is expected to be passed &quot;bare&quot; to `transduce', so there is no
need for the caller to manually pass a REDUCER.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:GROUP-BY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AGROUP-BY">GROUP-BY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">F</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#241:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Group the input stream into sublists via some function F. The cutoff
criterion is whether the return value of F changes between two consecutive elements of the
transduction.

(transduce (group-by #'evenp) #'cons '(2 4 6 7 9 1 2 4 6 3))
=&gt; ((2 4 6) (7 9 1) (2 4 6) (3))
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:HASH-TABLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AHASH-TABLE">HASH-TABLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#38:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Collect a stream of key-value cons pairs into a hash table.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:INJECT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AINJECT">INJECT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">F</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#597:1">Source</a>  </header> <div class="docstring"><pre>Transducer: For each value in the transduction that actually affects the final
result (tested with `EQ'), inject an extra transduction step into the chain
immediately after this point. Accumulates, such that each new injection appears
before the previous one.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:INTERSPERSE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AINTERSPERSE">INTERSPERSE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ELEM</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#270:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Insert an ELEM between each value of the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:INTO-CSV"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AINTO-CSV">INTO-CSV</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HEADERS</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#490:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Given a sequence of HEADERS, rerender each item in the data stream
into a CSV string. It's assumed that each item in the transduction is a hash
table whose keys are strings that match the values found in HEADERS.

# Conditions

- `empty-argument': when an empty HEADERS sequence is given.
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:INTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AINTS">INTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">START</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">STEP</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/sources.lisp#38:0">Source</a>  </header> <div class="docstring"><pre>Source: Yield all integers, beginning with START and advancing by an optional
STEP value which can be positive or negative. If you only want a specific range
within the transduction, then use `take-while' within your transducer chain.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:LAST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ALAST">LAST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#142:1">Source</a>  </header> <div class="docstring"><pre>Reducer: Yield the last value of the transduction.

# Conditions

- `empty-transduction': when no values made it through the transduction.
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:LOG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ALOG">LOG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LOGGER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#300:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Call some LOGGER function for each step of the transduction. The
LOGGER must accept the running results and the current element as input. The
original results of the transduction are passed through as-is.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:MAKE-REDUCED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AMAKE-REDUCED">MAKE-REDUCED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">VAL</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#41:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:MAP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AMAP">MAP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">F</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#54:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Apply a function F to all elements of the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:MAX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AMAX">MAX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DEFAULT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#206:1">Source</a>  </header> <div class="docstring"><pre>Deprecated: Use `fold' and pass it `cl:max' instead.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:MIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AMIN">MIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DEFAULT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#218:0">Source</a>  </header> <div class="docstring"><pre>Deprecated: Use `fold' and pass it `cl:min' instead.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:ONCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AONCE">ONCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ITEM</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#432:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Inject some ITEM into the front of the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:PASS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3APASS">PASS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#45:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Just pass along each value of the transduction. Same in intent with
applying `map' to `identity', but this should be slightly more efficient. It is
at least shorter to type.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:PLIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3APLIST">PLIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PLIST</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/sources.lisp#13:0">Source</a>  </header> <div class="docstring"><pre>Source: Yield key-value pairs from a Property List, usually known as a 'plist'.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:RANDOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ARANDOM">RANDOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LIMIT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/sources.lisp#53:0">Source</a>  </header> <div class="docstring"><pre>Source: Yield an endless stream of random numbers.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:REDUCED-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AREDUCED-P">REDUCED-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#41:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:REDUCED-VAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AREDUCED-VAL">REDUCED-VAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#41:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:(SETF REDUCED-VAL)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3A%28SETF%20REDUCED-VAL%29">(SETF REDUCED-VAL)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#41:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:REPEAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AREPEAT">REPEAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ITEM</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/sources.lisp#30:0">Source</a>  </header> <div class="docstring"><pre>Source: Endlessly yield a given ITEM.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:SCAN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ASCAN">SCAN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">F</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#413:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Build up successsive values from the results of previous
applications of a given function F.

(transduce (scan #'+ 0) #'cons '(1 2 3 4))
=&gt; (0 1 3 6 10)</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:SEGMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ASEGMENT">SEGMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#200:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Partition the input into lists of N items. If the input stops, flush
any accumulated state, which may be shorter than N.

# Conditions

- `non-positive-integer': when a non-positive integer N is given.
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:SHUFFLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ASHUFFLE">SHUFFLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VEC</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/sources.lisp#61:0">Source</a>  </header> <div class="docstring"><pre>Source: Endlessly yield random elements from a given vector. Recall also that
strings are vectors too, so:

(transduce (take 5) #'string (shuffle &quot;Númenor&quot;))
=&gt; &quot;mNNrú&quot;
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:SNOC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ASNOC">SNOC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#11:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Collect all results as a list, but results are reversed.
In theory, slightly more performant than `cons' since it performs no final
reversal.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:SPLIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ASPLIT">SPLIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TA</li>    <li class="argument">RA</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#572:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Split off a new transducer chain, feeding it each input as well. It
reduces on its own given RA reducer. The final result is a cons-cell where the
first value is the result of the original transduction, and the second is that
of the branch.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:STEP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ASTEP">STEP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#380:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Only yield every Nth element of the transduction. The first element
of the transduction is always included.

# Conditions

- `non-positive-integer': when a non-positive integer N is given.

# Examples

(transduce (step 2) #'cons '(1 2 3 4 5 6 7 8 9))
=&gt; (1 3 5 7 9)
</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:STRING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ASTRING">STRING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#19:0">Source</a>  </header> <div class="docstring"><pre>Reducer: Collect a stream of characters into to a single string.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:TAKE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ATAKE">TAKE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#128:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Keep only the first N elements of the transduction.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:TAKE-WHILE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3ATAKE-WHILE">TAKE-WHILE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#148:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Keep only elements which satisfy a given PRED, and stop the
transduction as soon as any element fails the test.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:UNCONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AUNCONS">UNCONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#158:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Split up a transduction of cons cells.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:UNIQUE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AUNIQUE">UNIQUE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REDUCER</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#346:1">Source</a>  </header> <div class="docstring"><pre>Transducer: Only allow values to pass through the transduction once each.
Stateful; this uses a hash table internally so could get quite heavy if you're
not careful.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:VECTOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AVECTOR">VECTOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ACC</li>    <li class="argument">INPUT</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#25:1">Source</a>  </header> <div class="docstring"><pre>Reducer: Collect a stream of values into a vector.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION TRANSDUCERS:WINDOW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20TRANSDUCERS%3AWINDOW">WINDOW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/transducers.lisp#318:0">Source</a>  </header> <div class="docstring"><pre>Transducer: Yield N-length windows of overlapping values. This is different from
`segment' which yields non-overlapping windows. If there were fewer items in the
input than N, then this yields nothing.

# Conditions

- `non-positive-integer': when a non-positive integer N is given.
</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION TRANSDUCERS:CYCLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20TRANSDUCERS%3ACYCLE">CYCLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SEQ</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/sources.lisp#72:3">Source</a>  </header> <div class="docstring"><pre>Source: Yield the values of a given SEQ endlessly.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION TRANSDUCERS:TRANSDUCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20TRANSDUCERS%3ATRANSDUCE">TRANSDUCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">XFORM</li>    <li class="argument">F</li>    <li class="argument">SOURCE</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/entry.lisp#3:0">Source</a>  </header> <div class="docstring"><pre>The entry-point for processing some data source via transductions.

This requires three things:

- A transducer function, or a composed chain of them
- A reducing function
- A source

Note: `comp' can be used to chain transducers together.

When ran, `transduce' will pull values from the source, transform them via the
transducers, and reduce into some single value (likely some collection but not
necessarily). `transduce' will only pull as many values from the source as are
actually needed, and does so one at a time. This ensures that large
sources (like files) don't consume too much memory.

# Examples

Assuming that you've required this library with a local nickname of `t', here's
how we can filter an infinite source and reduce into a single sum:

(t:transduce (t:comp (t:filter #'oddp)
                     (t:take 1000)
                     (t:map (lambda (n) (* n n))))
             #'+ (t:ints 1))
;; =&gt; 1333333000 (31 bits, #x4F790C08)

Note that due to how transducer and reducer functions are composed internally,
the order provided to `comp' gets applied from top to bottom. In the above
example, this means that `filter' is applied first, and `map' last.

There are a variety of functions to instead reduce into a collection:

(t:transduce (t:map #'1+) #'t:vector '(1 2 3))
;; =&gt; #(2 3 4)

Many standard collections can be easily &quot;sourced&quot;, including those that aren't
normally so conveniently traversed like Hash Tables, Property Lists, and lines
of a file.

;; Read key-value pairs from a plist and recollect into a Hash Table.
(t:transduce #'t:pass #'t:hash-table (t:plist `(:a 1 :b 2 :c 3)))

# Custom Sources

Since `transduce' is generic, you can use `defmethod' to define your own custom
sources. See `sources.lisp' and `entry.lisp' for examples of how to do this.

</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION TRANSDUCERS:ALL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20TRANSDUCERS%3AALL">ALL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#95:1">Source</a>  </header> <div class="docstring"><pre>Deprecated: Use `allp'.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION TRANSDUCERS:ANY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20TRANSDUCERS%3AANY">ANY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PRED</li>  </ul>  <a class="source-link" href="file:///home/colin/code/common-lisp/cl-transducers/transducers/reducers.lisp#72:1">Source</a>  </header> <div class="docstring"><pre>Deprecated: Use `anyp'.</pre></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM TRANSDUCERS:MAKE-REDUCED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20TRANSDUCERS%3AMAKE-REDUCED">MAKE-REDUCED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM TRANSDUCERS:(SETF MAKE-REDUCED)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20TRANSDUCERS%3A%28SETF%20MAKE-REDUCED%29">(SETF MAKE-REDUCED)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM TRANSDUCERS:REDUCED-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20TRANSDUCERS%3AREDUCED-P">REDUCED-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM TRANSDUCERS:(SETF REDUCED-P)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20TRANSDUCERS%3A%28SETF%20REDUCED-P%29">(SETF REDUCED-P)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM TRANSDUCERS:REDUCED-VAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20TRANSDUCERS%3AREDUCED-VAL">REDUCED-VAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM TRANSDUCERS:(SETF REDUCED-VAL)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20TRANSDUCERS%3A%28SETF%20REDUCED-VAL%29">(SETF REDUCED-VAL)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 